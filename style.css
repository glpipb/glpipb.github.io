/* =================================================================== */
/* ===        STYLE.CSS - Versión Definitiva y Robusta           === */
/* =================================================================== */

:root {
    --color-red-accent: #e5383b; --color-dark-bg: #1f1f1f; --color-content-bg: #2d2d2d; --color-card-bg: #3c3c3c;
    --color-border: #4a4a4a; --color-text-primary: #f8f9fa; --color-text-secondary: #adb5bd;
}

* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', 'Roboto', sans-serif; }

html, body {
    height: 100vh;
    width: 100vw;
    overflow: hidden; /* Prohibimos el scroll en el nivel más alto */
    background-color: var(--color-dark-bg);
    color: var(--color-text-primary);
}

body {
    display: flex;
}

/* --- BARRA LATERAL --- */
.sidebar {
    width: 80px;
    background-color: var(--color-dark-bg);
    border-right: 1px solid var(--color-border);
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
}
.sidebar-header { padding: 20px 0; }
.logo { font-size: 2.5rem; font-weight: bold; color: var(--color-text-primary); text-decoration: none; text-align: center; display: block; }
.sidebar-menu { list-style: none; margin-top: 30px; flex-grow: 1; }
.sidebar-menu li { position: relative; }
.sidebar-menu li a { display: block; color: var(--color-text-secondary); padding: 20px 0; font-size: 1.5rem; text-align: center; }
.sidebar-menu li.active a, .sidebar-menu li a:hover { color: var(--color-text-primary); }
.sidebar-menu li.active a { color: var(--color-red-accent); }
.sidebar-menu li.active::before { content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%); height: 60%; width: 4px; background-color: var(--color-red-accent); border-radius: 0 4px 4px 0; }
.sidebar-footer { padding-bottom: 20px; text-align: center; }
.sidebar-footer a { color: var(--color-text-secondary); font-size: 1.5rem; }
.sidebar-footer a:hover { color: var(--color-red-accent); }

/* --- CONTENIDO PRINCIPAL (Solución Scroll) --- */
.main-content {
    flex-grow: 1;
    background-color: var(--color-content-bg);
    height: 100vh;
    overflow-y: auto; /* El scroll SÓLO aparece aquí */
    padding: 20px 30px;
}

.main-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px; }
.breadcrumbs { color: var(--color-text-secondary); font-size: 1.1rem; }
.header-actions { display: flex; align-items: center; gap: 20px; }
.user-profile { display: flex; align-items: center; gap: 10px; }
.user-initials { background-color: var(--color-red-accent); color: var(--color-text-primary); width: 40px; height: 40px; border-radius: 50%; display: grid; place-items: center; font-weight: bold; }

.dashboard-controls { display: flex; justify-content: space-between; align-items: center; background-color: var(--color-dark-bg); padding: 15px 20px; border-radius: 8px; border: 1px solid var(--color-border); margin-bottom: 25px; }
.control-title { display: flex; align-items: center; gap: 15px; }
.add-button { background-color: var(--color-red-accent); color: var(--color-text-primary); border: none; width: 28px; height: 28px; border-radius: 5px; font-size: 1.5rem; cursor: pointer; }

/* GRIDS Y TARJETAS */
.dashboard-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px; }
.kb-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
.card { background-color: var(--color-card-bg); padding: 25px; border-radius: 8px; border: 1px solid var(--color-border); }
.card-content { display: flex; justify-content: space-between; align-items: flex-start; }
.card-number { font-size: 2.8rem; font-weight: 600; color: var(--color-red-accent); }
.card-title { font-size: 1rem; color: var(--color-text-secondary); }
.card-icon { font-size: 1.8rem; color: var(--color-text-secondary); opacity: 0.8; }
.chart-card { grid-column: span 2; min-height: 300px; position: relative; }
.chart-card h3 { margin-bottom: 15px; }

/* TABLAS, MODALES Y OTROS */
.data-table-card { padding: 0; }
.data-table { width: 100%; border-collapse: collapse; }
.data-table th, .data-table td { padding: 15px 20px; text-align: left; border-bottom: 1px solid var(--color-border); }
.data-table thead { background-color: var(--color-dark-bg); }
.modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.7); }
.modal-content { background-color: var(--color-card-bg); margin: 10% auto; padding: 30px; border-radius: 8px; width: 80%; max-width: 500px; }
.close-btn { color: var(--color-text-secondary); float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
.form-group { margin-bottom: 20px; }
.form-group label { display: block; margin-bottom: 8px; }
.form-group input, .form-group select, .form-group textarea { width: 100%; padding: 12px; background-color: var(--color-content-bg); border: 1px solid var(--color-border); border-radius: 5px; color: var(--color-text-primary); font-size: 1rem; }
.submit-btn { background-color: var(--color-red-accent); color: var(--color-text-primary); padding: 12px 20px; border: none; border-radius: 5px; cursor: pointer; width: 100%; font-size: 1rem; }
.priority-baja { color: #28a745; } .priority-media { color: #ffc107; } .priority-alta { color: #e5383b; }
.status-abierto { color: #ffc107; } .status-cerrado { color: #6c757d; } .status-pendiente { color: #ffc107; } .status-realizado { color: #28a745; }
